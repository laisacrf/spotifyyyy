<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Biblioteca - Spotify</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<header>
  <img src="https://upload.wikimedia.org/wikipedia/commons/2/26/Spotify_logo_with_text.svg" alt="Spotify Logo">
  <h1>Biblioteca</h1>
  <a href="index.html" style="margin-left: auto; font-size:16px; padding:6px 12px; border-radius:20px; border:2px solid #1db954; color:#1db954; text-decoration:none;">
    <i class="fa-solid fa-arrow-left"></i> Voltar
  </a>
</header>
<style>
body{
  background:#121212;
  color:#fff;
  font-family:"Montserrat",sans-serif;
  margin:0;
  padding:0;
}

/* Header */
header{
  background:#000;
  padding:20px 30px;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:15px;
}
header h1{
  color:#1db954;
  font-size:32px;
  font-weight:900;
  text-transform:uppercase;
}
header img{
  height:40px;
}

/* Main */
main{
  padding:40px;
  max-width:1200px;
  margin:0 auto;
}
.section-title{
  font-size:28px;
  font-weight:700;
  margin-bottom:20px;
  text-align:center;
  text-transform:uppercase;
  letter-spacing:1px;
}

/* Músicas Curtidas */
.liked-music-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:20px;
  margin-bottom:50px;
}
.music-card{
  display:flex;
  background:#181818;
  border-radius:15px;
  overflow:hidden;
  cursor:pointer;
  transition:all 0.3s;
  box-shadow:0 5px 15px rgba(0,0,0,0.5);
}
.music-card:hover{
  transform:scale(1.03);
  box-shadow:0 10px 25px rgba(29,185,84,0.6);
}
.music-image{
  width:120px;
  height:120px;
  object-fit:cover;
}
.music-info{
  flex:1;
  padding:15px;
  display:flex;
  flex-direction:column;
  justify-content:center;
}
.music-name{
  font-size:18px;
  font-weight:700;
  color:#fff;
  margin-bottom:5px;
}
.music-artist{
  font-size:14px;
  color:#aaa;
}
.music-actions{
  display:flex;
  gap:12px;
  margin-top:10px;
}
.music-actions button{
  background:transparent;
  border:none;
  color:#1db954;
  font-size:18px;
  cursor:pointer;
  transition:all 0.2s;
}
.music-actions button:hover{color:#fff;}

/* Playlists */
.playlist-section{
  margin-top:50px;
}
.playlist-form{
  display:flex;
  gap:10px;
  margin-bottom:20px;
}
.playlist-form input{
  flex:1;
  padding:12px 15px;
  border-radius:25px;
  border:none;
  outline:none;
  font-size:14px;
  background:#1e1e1e;
  color:#fff;
  transition:0.3s;
}
.playlist-form input:focus{
  background:#1db954;
  color:#000;
}
.playlist-form button{
  padding:12px 20px;
  border:none;
  border-radius:25px;
  background:#1db954;
  color:#000;
  font-weight:700;
  cursor:pointer;
  transition:all 0.3s;
}
.playlist-form button:hover{
  background:#17a44d;
}
.playlist-list{
  display:flex;
  flex-direction:column;
  gap:15px;
}
.playlist-item{
  background:#181818;
  padding:15px 20px;
  border-radius:15px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
  transition:all 0.3s;
  box-shadow:0 5px 15px rgba(0,0,0,0.5);
}
.playlist-item:hover{
  background:rgba(29,185,84,0.2);
}
.playlist-name{
  font-weight:700;
  color:#fff;
}
.remove-playlist{
  background:transparent;
  border:none;
  color:#f00;
  font-size:16px;
  cursor:pointer;
  transition:0.2s;
}
.remove-playlist:hover{
  transform:scale(1.2);
}

/* Footer */
footer{
  height:35px;
  background:#1db954;
  color:#000;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
  box-shadow:0 -2px 10px rgba(29,185,84,0.8);
}

/* Animação fade-in */
.music-card, .playlist-item{
  opacity:0;
  animation:fadeIn 0.5s forwards;
}
@keyframes fadeIn{
  to{opacity:1;}
}
</style>
</head>
<body>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Biblioteca - Spotify</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

</head>


<main>
<!-- Músicas Curtidas -->
<h2 class="section-title">Músicas Curtidas</h2>
<div class="liked-music-grid" id="likedGrid"></div>

<!-- Seção Playlists -->
<div class="playlist-section">
<h2 class="section-title">Playlists</h2>
<div class="playlist-form">
<input type="text" id="playlistInput" placeholder="Nome da nova playlist" />
<button id="addPlaylistBtn">Criar Playlist</button>
</div>
<div class="playlist-list" id="playlistList"></div>
</div>
</main>

<footer>By Laisa & Belle - 2025</footer>

<script>
/* ===================== Curtidas ===================== */
const likedGrid=document.getElementById("likedGrid");
function carregarCurtidas(){
  let curtidas=JSON.parse(localStorage.getItem("curtidas")||"[]");
  likedGrid.innerHTML="";
  if(curtidas.length===0){
    likedGrid.innerHTML='<p style="color:#aaa;text-align:center;">Nenhuma música curtida.</p>';
    return;
  }
  curtidas.forEach((musica, i)=>{
    const card=document.createElement("div");
    card.className="music-card";
    card.style.animationDelay=(i*0.1)+'s';

    const img=document.createElement("img");
    img.className="music-image";
    img.src=musica.capa;
    img.alt=musica.titulo;

    const info=document.createElement("div");
    info.className="music-info";

    const name=document.createElement("div");
    name.className="music-name";
    name.textContent=musica.titulo;

    const artist=document.createElement("div");
    artist.className="music-artist";
    artist.textContent=musica.artista;

    info.appendChild(name);
    info.appendChild(artist);

    card.appendChild(img);
    card.appendChild(info);

    card.addEventListener("click", ()=>{
      let audio = new Audio(musica.audio);
      audio.play();
    });

    likedGrid.appendChild(card);
  });
}
carregarCurtidas();

/* ===================== Playlists ===================== */
const playlistInput = document.getElementById("playlistInput");
const addPlaylistBtn = document.getElementById("addPlaylistBtn");
const playlistList = document.getElementById("playlistList");

function carregarPlaylists(){
  let playlists = JSON.parse(localStorage.getItem("playlists")||"[]");
  playlistList.innerHTML = "";
  playlists.forEach((pl, index)=>{
    const div = document.createElement("div");
    div.className = "playlist-item";

    const name = document.createElement("div");
    name.className = "playlist-name";
    name.textContent = pl;

    const btnRemove = document.createElement("button");
    btnRemove.className = "remove-playlist";
    btnRemove.innerHTML = '<i class="fa-solid fa-xmark"></i>';
    btnRemove.addEventListener("click",(e)=>{
      e.stopPropagation();
      removerPlaylist(index);
    });

    div.appendChild(name);
    div.appendChild(btnRemove);

    div.addEventListener("click", ()=>{
      localStorage.setItem("currentPlaylist", pl);
      window.location.href = "playlist.html";
    });

    playlistList.appendChild(div);
  });
}

function criarPlaylist(){
  const nome = playlistInput.value.trim();
  if(nome==="") return;
  let playlists = JSON.parse(localStorage.getItem("playlists")||"[]");
  playlists.push(nome);
  localStorage.setItem("playlists", JSON.stringify(playlists));
  playlistInput.value="";
  carregarPlaylists();
}

function removerPlaylist(index){
  let playlists = JSON.parse(localStorage.getItem("playlists")||"[]");
  playlists.splice(index,1);
  localStorage.setItem("playlists", JSON.stringify(playlists));
  carregarPlaylists();
}

addPlaylistBtn.addEventListener("click", criarPlaylist);
carregarPlaylists();
</script>
</body>
</html>
